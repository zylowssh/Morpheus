{% extends "base.html" %} {% block content %}

<section class="card">
  <h2>Analyse</h2>

  <div class="switch-row" style="margin-bottom: 0;">
    <span class="switch-label">Analyse en direct</span>
    <label class="toggle">
      <input type="checkbox" id="toggle-analysis" checked />
      <span class="track">
        <span class="thumb"></span>
      </span>
    </label>
  </div>

  <p id="status-text" class="status-text"></p>
</section>

<section class="card">
  <h2>Seuils d'alerte</h2>

  <div class="slider-group">
    <div class="slider-item">
      <label for="good-threshold" class="slider-label">Seuil Bon â†’ Moyen</label>
      <input
        type="range"
        id="good-threshold"
        min="0"
        max="2000"
        step="1"
        value="800"
      />
      <div class="slider-values">
        <span>400</span>
        <span id="good-value" class="slider-current">800 ppm</span>
        <span>2000</span>
      </div>
    </div>

    <div class="slider-item">
      <label for="bad-threshold" class="slider-label"
        >Seuil Moyen â†’ Mauvais</label
      >
      <input
        type="range"
        id="bad-threshold"
        min="0"
        max="2000"
        step="1"
        value="1200"
      />
      <div class="slider-values">
        <span>400</span>
        <span id="bad-value" class="slider-current">1200 ppm</span>
        <span>2000</span>
      </div>
    </div>
  </div>

  <div class="threshold-visual">
    <div class="threshold-bar">
      <div id="good-segment" class="threshold-segment good-seg">Bon</div>
      <div id="medium-segment" class="threshold-segment medium-seg">Moyen</div>
      <div id="bad-segment" class="threshold-segment bad-seg">Mauvais</div>
    </div>
    <div class="threshold-labels">
      <span class="label min">400</span>
      <span class="label good" id="good-label">800</span>
      <span class="label bad" id="bad-label">1200</span>
      <span class="label max">2000</span>
    </div>
  </div>
</section>

<section class="card">
  <h2>Simulation</h2>

  <div class="switch-row">
    <span class="switch-label">Mode rÃ©aliste</span>
    <label class="toggle">
      <input type="checkbox" id="realistic-mode" checked />
      <span class="track">
        <span class="thumb"></span>
      </span>
    </label>
  </div>

  <p class="hint">Simule des variations naturelles du COâ‚‚</p>

  <div class="slider-item">
    <label for="update-speed" class="slider-label"
      >Vitesse de mise Ã  jour</label
    >
    <input
      type="range"
      id="update-speed"
      min="1"
      max="10"
      value="2"
      step="0.5"
    />
    <div class="slider-values">
      <span>1s</span>
      <span id="speed-value" class="slider-current">2 secondes</span>
      <span>10s</span>
    </div>
  </div>
</section>

<div class="action-buttons">
  <button id="save-settings" class="btn-save">ğŸ’¾ Enregistrer</button>
  <button id="reset-settings" class="btn-reset">âŸ² RÃ©initialiser</button>
  <a href="/live" class="link">â† Retour au tableau de bord</a>
</div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/settings.js') }}"></script>
{% endblock %}